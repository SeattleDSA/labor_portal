extends layout


block content
  .w3-container
    if locals.user 
      script(src="/js/charts.js" defer)
      script(src="https://cdnjs.cloudflare.com/ajax/libs/randomcolor/0.5.4/randomColor.js")
      link(rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css")
      script(src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.bundle.js" defer)
      .container
        .content
          h2(id="dataviz" class="title") #{env.CHAPTER} Labor Dashboard
          p These charts show which unions and sectors we have highest membership density in. These numbers aren't perfect, as members might give national their union information when they join, then they might change jobs and not update their membership info with national. 
          | As well, data needs to be cleaned up.</p>
          .row.my-2
            .col-md-6.py-1
                .card
                  .card-body
                    canvas(id="lineChart")
            .col-md-6.py-1  
                .card
                  .card-body
                    canvas(id="densityChart")
        .row.my-2
            .col-md-6.py-1
                .card
                  .card-body
                    canvas(id="barChart")
            .col-md-6.py-1  
                .card
                  .card-body
                    canvas(id="pieChart")
    //TODO: add chart that show what members of unions have recently joined or left                   
    else
      h4 You are not logged in! Please #[a(href="/login") Log In] to continue.
